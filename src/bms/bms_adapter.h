/// Header file for `bms_adapter.c`.

/*==============================================================================================================*/
/*                                                 Includes                                                     */
/*==============================================================================================================*/
#pragma once

#include "bms_data.h"
#include "esp_err.h"

/*==============================================================================================================*/
/*                                               Public Macros                                                  */
/*==============================================================================================================*/

/*==============================================================================================================*/
/*                                               Public Types                                                   */
/*==============================================================================================================*/
/// Structure defining the BMS adapter interface
typedef struct {
    esp_err_t (*init)(void);                        ///< Initialize the adapter
    esp_err_t (*read_sample)(bms_sample_t *out);    ///< Read one BMS sample
} bms_adapter_t;

/*==============================================================================================================*/
/*                                             Public Constants                                                 */
/*==============================================================================================================*/

/*==============================================================================================================*/
/*                                             Public Variables                                                 */
/*==============================================================================================================*/

/*==============================================================================================================*/
/*                                        Public Function Prototypes                                            */
/*==============================================================================================================*/
esp_err_t bms_demo_adapter_select(void);
const bms_adapter_t *bms_get_adapter(void);

/*==============================================================================================================*/
/*                                          Public Inline Functions                                             */
/*==============================================================================================================*/