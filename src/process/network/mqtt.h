/// Header file for `bms_mqtt.c`.

/*==============================================================================================================*/
/*                                                 Includes                                                     */
/*==============================================================================================================*/
#pragma once

#include "esp_err.h"
#include "mqtt_client.h"

/*==============================================================================================================*/
/*                                               Public Macros                                                  */
/*==============================================================================================================*/
/// Timeout for waiting publish ACK (QoS1 PUBACK / MQTT_EVENT_PUBLISHED).
#define MQTT_PUBACK_TIMEOUT_MS  15000

/*==============================================================================================================*/
/*                                               Public Types                                                   */
/*==============================================================================================================*/

/*==============================================================================================================*/
/*                                             Public Constants                                                 */
/*==============================================================================================================*/

/*==============================================================================================================*/
/*                                             Public Variables                                                 */
/*==============================================================================================================*/

/*==============================================================================================================*/
/*                                        Public Function Prototypes                                            */
/*==============================================================================================================*/
esp_err_t bms_mqtt_init(void);
esp_err_t bms_mqtt_publish_blocking_qos1(const char *topic, const char *data, int len, TickType_t timeout_ticks);
bool bms_mqtt_is_connected(void);

/*==============================================================================================================*/
/*                                          Public Inline Functions                                             */
/*==============================================================================================================*/